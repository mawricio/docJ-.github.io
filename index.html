<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DocJá — Documentos prontos em 1 minuto</title>
  <meta name="description" content="Gere contratos e declarações personalizadas em segundos. Baixe em PDF ou DOCX. 100% online e gratuito." />

  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#0066ff',
            accent: '#ffcc00',
          }
        }
      }
    }
  </script>

  <!-- jsPDF + FileSaver para PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-+0s1F0uZzVtC2W0qfG/6rKzS1yDsq2w5x7VYk0J8r9j8a5t4QeW0Wq8xw2m3bL1m1FQw9lI7zqj7E3c7C3v6JQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js" integrity="sha512-v3bRupG3Rrbx6qzv1r6k0M8p8sDqA6q7g6Ywq1d8Q6l9dT1+2Jk6Q3dG1VZl7A1y4dF4wEJzFvH4aS8YpVj+Wg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- docx para gerar .docx client-side -->
  <script src="https://unpkg.com/docx@8.5.0/build/index.umd.js"></script>

  <!-- Ícones -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .glass { backdrop-filter: blur(10px); background-color: rgba(255,255,255,0.75); }
  </style>
</head>
<body class="bg-slate-50">
  <!-- Header / Hero -->
  <header class="bg-primary text-white">
    <div class="max-w-6xl mx-auto px-6 py-14 md:py-20 grid md:grid-cols-2 gap-8 items-center">
      <div>
        <div class="inline-flex items-center gap-2 bg-white/10 rounded-full px-3 py-1 text-sm mb-3">
          <span class="w-2 h-2 rounded-full bg-accent"></span>
          100% estático • roda no GitHub Pages
        </div>
        <h1 class="text-3xl md:text-5xl font-extrabold leading-tight">Documentos prontos e personalizados em <span class="text-accent">60 segundos</span></h1>
        <p class="mt-4 text-white/90 md:text-lg">Contratos, declarações e recibos editáveis. Baixe em <strong>PDF</strong> ou <strong>DOCX</strong>, sem cadastro.</p>
        <div class="mt-6 flex gap-3">
          <a href="#modelos" class="px-5 py-3 rounded-2xl bg-accent text-black font-semibold shadow hover:brightness-95">Gerar Documento Agora</a>
          <a href="#como" class="px-5 py-3 rounded-2xl border border-white/30 font-semibold hover:bg-white/10">Como funciona</a>
        </div>
      </div>
      <div class="glass rounded-3xl shadow-xl p-6 md:p-8">
        <h3 class="text-xl font-bold mb-3">Pré-visualização</h3>
        <div class="bg-white rounded-xl p-5 shadow-inner text-slate-700 text-sm leading-relaxed">
          <p><strong>CONTRATO DE PRESTAÇÃO DE SERVIÇOS</strong></p>
          <p class="mt-2">Contratante: {{NOME_CLIENTE}}</p>
          <p>Contratado: {{NOME_PRESTADOR}}</p>
          <p>Objeto: {{DESCRICAO_SERVICO}}</p>
          <p>Valor: R$ {{VALOR}}</p>
          <p>Data: {{DATA}}</p>
        </div>
        <p class="text-xs text-white/80 mt-3">*Exemplo ilustrativo. O documento final é gerado com seus dados.</p>
      </div>
    </div>
  </header>

  <!-- Como funciona -->
  <section id="como" class="max-w-6xl mx-auto px-6 py-12">
    <h2 class="text-2xl md:text-3xl font-extrabold">Como funciona</h2>
    <div class="grid md:grid-cols-3 gap-5 mt-6">
      <div class="bg-white rounded-2xl p-6 shadow">
        <h3 class="font-semibold">1) Escolha o modelo</h3>
        <p class="text-slate-600 mt-1">Contratos, declarações, recibos e mais.</p>
      </div>
      <div class="bg-white rounded-2xl p-6 shadow">
        <h3 class="font-semibold">2) Preencha os campos</h3>
        <p class="text-slate-600 mt-1">Nome, datas, valores e detalhes.</p>
      </div>
      <div class="bg-white rounded-2xl p-6 shadow">
        <h3 class="font-semibold">3) Baixe em PDF ou DOCX</h3>
        <p class="text-slate-600 mt-1">Arquivo pronto em segundos.</p>
      </div>
    </div>
  </section>

  <!-- Modelos -->
  <section id="modelos" class="max-w-6xl mx-auto px-6 py-12">
    <div class="flex items-end justify-between">
      <h2 class="text-2xl md:text-3xl font-extrabold">Modelos mais usados</h2>
      <div class="text-sm text-slate-600">Mais modelos em breve</div>
    </div>

    <!-- Selector -->
    <div class="mt-6 grid md:grid-cols-3 gap-5">
      <button data-template="contrato" class="templateBtn bg-white rounded-2xl p-6 shadow text-left hover:shadow-md">
        <h3 class="font-bold text-primary">Contrato de Prestação de Serviços</h3>
        <p class="text-slate-600 mt-1">Ideal para freelancers e MEIs.</p>
      </button>
      <button data-template="declaracao_residencia" class="templateBtn bg-white rounded-2xl p-6 shadow text-left hover:shadow-md">
        <h3 class="font-bold text-primary">Declaração de Residência</h3>
        <p class="text-slate-600 mt-1">Com campos de endereço e responsável.</p>
      </button>
      <button data-template="pedido_demissao" class="templateBtn bg-white rounded-2xl p-6 shadow text-left hover:shadow-md">
        <h3 class="font-bold text-primary">Pedido de Demissão</h3>
        <p class="text-slate-600 mt-1">Simples e direto para imprimir.</p>
      </button>
    </div>

    <!-- Formulário dinâmico -->
    <div id="formWrap" class="mt-8 bg-white rounded-2xl p-6 shadow hidden">
      <div class="flex items-center justify-between">
        <h3 id="formTitle" class="text-xl font-bold">Preencha os dados</h3>
        <button id="closeForm" class="text-slate-500 hover:text-slate-700">Fechar</button>
      </div>
      <form id="docForm" class="grid md:grid-cols-2 gap-4 mt-4"></form>
      <div class="flex flex-wrap items-center gap-3 mt-5">
        <button id="btnPDF" class="px-5 py-3 rounded-xl bg-primary text-white font-semibold hover:brightness-95">Baixar PDF</button>
        <button id="btnDOCX" class="px-5 py-3 rounded-xl border border-slate-300 font-semibold hover:bg-slate-50">Baixar DOCX</button>
      </div>
      <p class="text-xs text-slate-500 mt-3">Ao baixar, você concorda com os <a href="#" class="underline">Termos</a> e <a href="#" class="underline">Privacidade</a>.</p>
    </div>
  </section>

  <!-- Plano -->
  <section class="max-w-6xl mx-auto px-6 py-12">
    <div class="bg-yellow-50 border border-yellow-200 rounded-2xl p-6 md:p-8">
      <h3 class="text-xl font-bold">Plano Premium</h3>
      <p class="mt-2 text-slate-700">Baixe grátis (com rodapé discreto) ou desbloqueie todos os modelos sem rodapé, com numeração automática e logomarca, por apenas <strong>R$ 9,90/mês</strong>.</p>
      <div class="mt-4 flex gap-3">
        <a href="#" class="px-5 py-3 rounded-xl bg-primary text-white font-semibold hover:brightness-95">Assinar Premium</a>
        <a href="#" class="px-5 py-3 rounded-xl border border-slate-300 font-semibold hover:bg-slate-50">Começar Grátis</a>
      </div>
    </div>
  </section>

  <footer class="text-center text-slate-600 py-10">
    <p>© 2025 DocJá — Todos os direitos reservados • <a class="underline" href="#">Termos</a> • <a class="underline" href="#">Privacidade</a></p>
  </footer>

  <script>
    // ==== Templates (texto base com placeholders) ====
    const templates = {
      contrato: {
        title: 'Contrato de Prestação de Serviços',
        fields: [
          { name: 'NOME_CLIENTE', label: 'Nome do Contratante', type: 'text', required: true },
          { name: 'CPF_CNPJ_CLIENTE', label: 'CPF/CNPJ do Contratante', type: 'text' },
          { name: 'ENDERECO_CLIENTe', label: 'Endereço do Contratante', type: 'text' },
          { name: 'NOME_PRESTADOR', label: 'Nome do Prestador', type: 'text', required: true },
          { name: 'CPF_CNPJ_PRESTADOR', label: 'CPF/CNPJ do Prestador', type: 'text' },
          { name: 'DESCRICAO_SERVICO', label: 'Descrição do serviço', type: 'textarea', required: true },
          { name: 'VALOR', label: 'Valor (R$)', type: 'text', required: true },
          { name: 'PRAZO', label: 'Prazo de execução', type: 'text' },
          { name: 'DATA', label: 'Data', type: 'date', required: true },
          { name: 'CIDADE', label: 'Cidade/UF', type: 'text', required: true },
        ],
        content: `CONTRATO DE PRESTAÇÃO DE SERVIÇOS\n\nContratante: {{NOME_CLIENTE}}, CPF/CNPJ {{CPF_CNPJ_CLIENTE}}, endereço {{ENDERECO_CLIENTe}}.\nContratado: {{NOME_PRESTADOR}}, CPF/CNPJ {{CPF_CNPJ_PRESTADOR}}.\n\nObjeto: {{DESCRICAO_SERVICO}}.\n\nValor e forma de pagamento: R$ {{VALOR}}.\nPrazo: {{PRAZO}}.\n\nFica eleito o foro da comarca de {{CIDADE}} para dirimir quaisquer dúvidas oriundas deste contrato.\n\n{{CIDADE}}, {{DATA}}.\n\n_______________________________________\n{{NOME_CLIENTE}}\n\n_______________________________________\n{{NOME_PRESTADOR}}\n`},
      declaracao_residencia: {
        title: 'Declaração de Residência',
        fields: [
          { name: 'DECLARANTE', label: 'Nome do declarante', type: 'text', required: true },
          { name: 'DOCUMENTO_DECLARANTE', label: 'CPF/RG do declarante', type: 'text' },
          { name: 'RESIDENTE', label: 'Nome do residente', type: 'text', required: true },
          { name: 'ENDERECO', label: 'Endereço completo', type: 'text', required: true },
          { name: 'CIDADE', label: 'Cidade/UF', type: 'text', required: true },
          { name: 'DATA', label: 'Data', type: 'date', required: true },
        ],
        content: `DECLARAÇÃO DE RESIDÊNCIA\n\nEu, {{DECLARANTE}}, CPF/RG {{DOCUMENTO_DECLARANTE}}, declaro para os devidos fins que {{RESIDENTE}} reside no endereço {{ENDERECO}}, na cidade de {{CIDADE}}.\n\nDeclaro estar ciente de que a presente declaração é verdadeira, sob as penas da lei.\n\n{{CIDADE}}, {{DATA}}.\n\n_______________________________________\n{{DECLARANTE}}\n`},
      pedido_demissao: {
        title: 'Pedido de Demissão',
        fields: [
          { name: 'EMPREGADO', label: 'Nome do empregado', type: 'text', required: true },
          { name: 'CPF_EMPREGADO', label: 'CPF do empregado', type: 'text' },
          { name: 'EMPREGADOR', label: 'Nome da empresa/empregador', type: 'text', required: true },
          { name: 'CARGO', label: 'Cargo', type: 'text' },
          { name: 'AVISO', label: 'Cumprirá aviso prévio? (sim/não)', type: 'text' },
          { name: 'CIDADE', label: 'Cidade/UF', type: 'text', required: true },
          { name: 'DATA', label: 'Data', type: 'date', required: true },
        ],
        content: `PEDIDO DE DEMISSÃO\n\nAo(À) {{EMPREGADOR}},\nEu, {{EMPREGADO}}, CPF {{CPF_EMPREGADO}}, ocupante do cargo de {{CARGO}}, venho por meio desta solicitar o desligamento do meu vínculo empregatício. Informo que {{AVISO}} cumprirei o aviso prévio.\n\n{{CIDADE}}, {{DATA}}.\n\n_______________________________________\n{{EMPREGADO}}\n`}
    };

    // ==== UI / Form Dinâmico ====
    const formWrap = document.getElementById('formWrap');
    const formTitle = document.getElementById('formTitle');
    const docForm = document.getElementById('docForm');
    const btnPDF = document.getElementById('btnPDF');
    const btnDOCX = document.getElementById('btnDOCX');
    const closeForm = document.getElementById('closeForm');

    document.querySelectorAll('.templateBtn').forEach(btn => {
      btn.addEventListener('click', () => {
        const key = btn.dataset.template;
        buildForm(key);
      })
    });

    closeForm.addEventListener('click', () => {
      formWrap.classList.add('hidden');
      docForm.innerHTML = '';
    });

    function buildForm(key) {
      const t = templates[key];
      formTitle.textContent = t.title;
      docForm.innerHTML = '';

      t.fields.forEach(f => {
        const wrap = document.createElement('div');
        wrap.className = 'flex flex-col';
        const label = document.createElement('label');
        label.className = 'text-sm text-slate-600 mb-1';
        label.textContent = f.label + (f.required ? ' *' : '');
        let input;
        if (f.type === 'textarea') {
          input = document.createElement('textarea');
          input.rows = 3;
        } else {
          input = document.createElement('input');
          input.type = f.type || 'text';
        }
        input.name = f.name;
        input.required = !!f.required;
        input.className = 'rounded-xl border border-slate-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary/30';
        wrap.appendChild(label);
        wrap.appendChild(input);
        docForm.appendChild(wrap);
      });

      formWrap.classList.remove('hidden');

      // Attach handlers
      btnPDF.onclick = (e) => { e.preventDefault(); downloadPDF(key); };
      btnDOCX.onclick = (e) => { e.preventDefault(); downloadDOCX(key); };
    }

    function collectData() {
      const data = {};
      new FormData(docForm).forEach((v, k) => data[k] = v || '');
      return data;
    }

    function fillTemplate(text, data) {
      return text.replace(/\{\{(.*?)\}\}/g, (_, k) => (data[k] ?? '').toString());
    }

    // ==== PDF ====
    async function downloadPDF(key) {
      const t = templates[key];
      const data = collectData();
      const content = fillTemplate(t.content, data);
      const {{ jsPDF }} = window.jspdf;
      const doc = new jsPDF({ unit: 'pt', format: 'a4' });
      const lineHeight = 16;
      const margin = 48;
      const maxWidth = 515; // A4 width (595) - margins
      const lines = doc.splitTextToSize(content, maxWidth);
      let y = margin;
      lines.forEach(line => {
        if (y > 820) { doc.addPage(); y = margin; }
        doc.text(line, margin, y);
        y += lineHeight;
      });
      const fileName = slugify(t.title) + '.pdf';
      doc.save(fileName);
    }

    // ==== DOCX ====
    async function downloadDOCX(key) {
      const t = templates[key];
      const data = collectData();
      const content = fillTemplate(t.content, data);
      const { Document, Packer, Paragraph, TextRun } = window.docx;

      const paragraphs = content.split('\n').map(line => new Paragraph({ children: [ new TextRun({ text: line }) ] }));
      const doc = new Document({ sections: [{ properties: {}, children: paragraphs }] });
      const blob = await Packer.toBlob(doc);
      saveAs(blob, slugify(t.title) + '.docx');
    }

    function slugify(s) {
      return s.toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu,'').replace(/[^a-z0-9]+/g,'-').replace(/(^-|-$)/g,'');
    }
  </script>
</body>
</html>
